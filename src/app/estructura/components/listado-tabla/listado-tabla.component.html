<!-- Tarjeta -->
<div id="tarjeta" class="card shadow">
  <img class="card-img-top" src="/assets/img/banner.jpg" alt="banner" />
  <div class="card-body">
    <h5 class="card-title">Lista de héroes</h5>
    <div class="card-text">

      <div *ngIf="this.error" class="alert alert-danger">
        <span class="fw-bold">{{ this.error.status }}</span>
        <span>Hubo un error en la petición ajax</span>
      </div>

      <!-- <code *ngIf="lista.length > 0">{{ lista | json }}</code> -->

      <div *ngIf="cargando" id="cargando">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Obteniendo información...</span>
        </div>
      </div>

      <div *ngIf="!this.cargando && lista.length === 0 && !this.error" class="alert alert-warning">
        <span>No hay elementos que mostrar</span>
      </div>

      <div *ngIf="!this.cargando && lista.length > 0 " class="table-responsive">
        <table class="table table-hover small">
          <thead class="bg-dark text-light">
            <tr>
              <th>Imagen</th>
              <th>Nombre</th>
              <th>Vida</th>
            </tr>
          </thead>
          <tbody>
            <tr (click)="seleccionarFavorito(heroe)"  class="align-middle"
              *ngFor="let heroe of lista">
              <td>
                <img
                  [src]="
                    heroe.imagen
                      ? heroe.imagen
                      : urlBase +  'defaultheroe.svg' "
                  width="20 rem"
                  [alt]="'Avatar de ' + heroe.nombre"
                />
              </td>
              <td>{{ heroe.nombre }}</td>
              <td>{{ heroe.vida }}</td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td>
                <span class="badge bg-info">{{ lista.length }}</span
                ><span> personajes</span>
              </td>
              <td *ngIf="heroeElegido != null" colspan="2">
                Héroe aleatorio: {{ heroeElegido.nombre }}
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>
</div>
